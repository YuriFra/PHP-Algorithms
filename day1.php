<?php
declare(strict_types=1);
ini_set('display_errors', '1');
ini_set('display_startup_errors', '1');
error_reporting(E_ALL);

//advent of code - day 1
$FUEL = [92349, 57040, 64079, 121555, 143735, 64642, 104858, 144446, 88871, 62338, 113424, 59960, 53999, 86867, 67224, 124130, 108921, 130492, 120361, 74426, 70397, 88106, 125442, 74237, 137818, 66633, 71756, 143276, 143456, 135698, 121124, 67739, 112861, 78572, 73565, 111899, 57543, 130314, 121605, 121426, 117143, 129957, 98042, 104760, 144846, 131238, 101076, 53328, 83592, 104077, 101952, 54137, 115363, 60556, 133086, 113361, 117829, 75003, 93729, 140022, 126219, 59907, 140589, 91812, 50485, 56232, 92858, 106820, 123423, 98553, 135315, 95583, 72278, 98702, 55709, 146773, 89719, 134752, 79562, 70455, 88468, 139824, 138646, 117516, 123267, 113754, 120353, 139145, 53219, 63053, 131434, 91705, 53650, 145234, 78461, 119587, 108976, 113613, 121790, 120366];

//total fuel
$total = 0;
foreach ($FUEL as $mass) {
    $total += floor($mass/3) - 2;
}
echo "Total fuel: ".$total; //3.372.463

//total fuel + extra
$totalExtra = [];
foreach ($FUEL as $mass) {
    while((floor($mass/3) -2) > 0) {
        $mass = floor($mass/3) -2;
        $totalExtra[] = $mass;
    }
}
$result = array_sum($totalExtra);

echo "\nTotal fuel + extra: ".$result."\n"; //5.055.835
